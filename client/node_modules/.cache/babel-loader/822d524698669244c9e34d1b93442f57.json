{"remainingRequest":"/Users/piemac/Desktop/myApp/client/node_modules/babel-loader/lib/index.js!/Users/piemac/Desktop/myApp/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/piemac/Desktop/myApp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/piemac/Desktop/myApp/client/src/components/Welcome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/piemac/Desktop/myApp/client/src/components/Welcome.vue","mtime":1676993519921},{"path":"/Users/piemac/Desktop/myApp/client/node_modules/cache-loader/dist/cjs.js","mtime":1676297019966},{"path":"/Users/piemac/Desktop/myApp/client/node_modules/babel-loader/lib/index.js","mtime":1676297019605},{"path":"/Users/piemac/Desktop/myApp/client/node_modules/cache-loader/dist/cjs.js","mtime":1676297019966},{"path":"/Users/piemac/Desktop/myApp/client/node_modules/vue-loader/lib/index.js","mtime":1676297035877}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJXZWxjb21lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VydmVySW5mbzoge30sCiAgICAgIGxvZ2luSW5mbzoge30sCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBlcnJvckZvcm06IHsKICAgICAgICB1c2VybmFtZTogZmFsc2UsCiAgICAgICAgcGFzc3dvcmQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHNlcnZlclVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9TRVJWRVJfVVJMLAogICAgICBtZXNzYWdlOiAnbm9uZScKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kRGF0YTogZnVuY3Rpb24gc2VuZERhdGEoKSB7CiAgICAgIHZhciB1cmwsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgZmV0Y2hEYXRhLAogICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc2VuZERhdGEkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVybCA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogIiI7CiAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDoge307CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmZXRjaCh1cmwsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgZmV0Y2hEYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGZldGNoRGF0YS5qc29uKCkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHRoaXMuc2VydmVySW5mbyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICh0aGlzLnNlcnZlckluZm8uc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VydmVySW5mby5zdGF0dXMgPT0gNDAzKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICcvZXJyJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBjaGVja0Zvcm06IGZ1bmN0aW9uIGNoZWNrRm9ybSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBjaGVja0Zvcm0kKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHRoaXMucGFzc3dvcmQubGVuZ3RoICYmIHRoaXMudXNlcm5hbWUubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnNlbmREYXRhKCIiLmNvbmNhdCh0aGlzLnNlcnZlclVSTCwgIi9sb2dpbi9hdXRoIiksIHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGlmICghdGhpcy51c2VybmFtZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JGb3JtLnVzZXJuYW1lID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICghdGhpcy5wYXNzd29yZC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JGb3JtLnBhc3N3b3JkID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Welcome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA;AAFA,OALA;AASA,MAAA,SAAA,EAAA,OAAA,CAAA,GAAA,CAAA,kBATA;AAUA,MAAA,OAAA,EAAA;AAVA,KAAA;AAYA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,GADA,2DACA,EADA;AACA,cAAA,IADA,2DACA,EADA;AAAA;AAAA,8CAEA,KAAA,CAAA,GAAA,EAAA;AACA,gBAAA,MAAA,EAAA,MADA;AAEA,gBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA;AAFA,eAAA,CAFA;;AAAA;AAEA,cAAA,SAFA;AAAA;AAAA,8CAMA,SAAA,CAAA,IAAA,EANA;;AAAA;AAMA,mBAAA,UANA;;AAOA,kBAAA,KAAA,UAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AACA,eAFA,MAEA,IAAA,KAAA,UAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,IAAA,SAbA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAcA,KAAA,QAAA,CAAA,MAAA,IAAA,KAAA,QAAA,CAAA,MAdA;AAAA;AAAA;AAAA;;AAAA;AAAA,8CAeA,KAAA,QAAA,WAAA,KAAA,SAAA,kBAAA;AAAA,gBAAA,QAAA,EAAA,KAAA,QAAA;AAAA,gBAAA,QAAA,EAAA,KAAA;AAAA,eAAA,CAfA;;AAAA;AAAA;;AAAA;AAkBA,kBAAA,CAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,qBAAA,SAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AACA,kBAAA,CAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,qBAAA,SAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBA,CAAA","sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"login-title\">Log in to system</div>\n    \n    <div class=\"inputs-block\">\n      <div class=\"login-input input-block\">\n        <label for=\"login\">Username: </label>\n        <input \n          type=\"text\" \n          placeholder=\"Enter your login\" \n          name=\"login\"\n          class=\"input-field\"\n          :class=\"{ 'incorrect-input': errorForm.username }\"\n          v-model=\"username\"\n          @focus=\"errorForm.username = false\"\n        >\n      </div>\n      <div class=\"password-input input-block\">\n        <label for=\"password\">Password: </label>\n        <input \n          type=\"password\"\n          placeholder=\"Enter your password\" \n          name=\"password\"\n          class=\"input-field\"\n          :class=\"{ 'incorrect-input': errorForm.password }\"\n          v-model=\"password\"\n          @focus=\"errorForm.password = false\"\n        >\n      </div>\n    </div>\n    \n    <button @click=\"checkForm\" class=\"login-button\">Log in</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Welcome\",\n  data() {\n    return {\n      serverInfo: {},\n      loginInfo: {},\n      username: \"\",\n      password: \"\",\n      errorForm: {\n        username: false,\n        password: false,\n      },\n      serverURL: process.env.VUE_APP_SERVER_URL,\n      message: 'none',\n    };\n  },\n  methods: {\n    async sendData(url = \"\", data = {}) {\n      const fetchData = await fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify(data),\n      });\n      this.serverInfo = await fetchData.json()\n      if(this.serverInfo.status == 200) {\n        this.$router.push({ path: '/home' })\n      } else if (this.serverInfo.status == 403) {\n        this.$router.push({ path: '/err' })\n      }\n    },\n    async checkForm() {\n      if(this.password.length && this.username.length) {\n        await this.sendData(`${this.serverURL}/login/auth`, { username: this.username, password: this.password });\n        return\n      } \n      if(!this.username.length) {\n        this.errorForm.username = true\n      } \n      if(!this.password.length) {\n        this.errorForm.password = true\n      }\n\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-page {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.login-title {\n  font-size: 2rem;\n  margin-bottom: 3rem;\n}\n.inputs-block {\n  width: 60%;\n  width: fit-content;\n  margin-bottom: 3rem;    \n  display: flex;\n  flex-direction: column;\n  align-items: end;\n}\n.input-block {\n  width: fit-content;\n}\n.input-block > label {\n  margin-right: .5rem;\n}\n.input-field {\n  padding: .2rem;\n  background-color: rgb(241, 241, 241);\n  border: .1rem black solid;\n  border-radius: 2%;\n}\n.login-input {\n  margin-bottom: .8rem;\n  float: right;\n}\n.incorrect-input {\n  border: .1rem rgb(209, 0, 0) solid;\n}\n</style>"],"sourceRoot":"src/components"}]}